<!--
   Author: cf AUTHORS.txt 
   License:  Copyright (c) 2010-2012 Massachusetts Institute of Technology.
   MIT License (cf. MIT-LICENSE.txt or http://www.opensource.org/licenses/mit-license.php)
  -->
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>{% block title %}{% endblock %}</title>
    <link type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/themes/base/jquery-ui.css" rel="stylesheet"/>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
    <script><![CDATA[
      function embed(){
      var code = $("div.content").html();
      code = code.replace(/\n/g, " ").replace(/\"/g, '\\\"');

      $("#widgetcode").text(code);
      $("#csscode").text($("#widgetstyle").text());
      $("#code-container").show();
      }
]]>
    </script>
    <style id="widgetstyle">{% block widgetcss %}{% endblock %}</style>
    <style id="overridestyle">{% block overridecss %}{% endblock %}</style>

    <style>
      html, body {
      width: 100%;
      height: 100%;
      background-color: #e0e0e0;
}
      div.content{
      margin: 20px auto 20px auto;
      width: 800px;
      border: thin solid #c0c0c0;
      background-color: #ffffff;
      }

      #code-container{
      display: none;
      }
      
      #draft-utils{
      margin: 20px auto 20px auto;
      width: 800px;
      }

      #widgetcode{
      font-family: monospace;
      }

      div.draft-caption{
      margin: 20px auto 20px auto;
      width: 800px;
      font-size: 30px;
      font-family: Tahoma, sans-serif;
      color: #c0c0c0;      
      }

      div.code-instruction{
      color: #a0a0a0;
      font-style: italic;
      font-size: x-large;
      padding-top: 20px;
      }

    </style>
    {% block scripts %}{% endblock %}
  </head>
  <body><div class="draft-caption">this is the draft framework...</div><div class="content">{% block content %}
    <h1>Hi, I'm the main draft template, please override me ! </h1>
    {% endblock %}
    </div>
    <div id="draft-utils">
      <button onclick="embed()">Embed</button>    
      <div id="code-container">
	<div class="code-instruction">Here's the HTML</div>
	<div id="widgetcode"/>
	<div class="code-instruction">Here's the CSS</div>
	<pre id="csscode"/>
      </div>
    </div>
  </body>
</html>

